<xml xmlns="http://www.w3.org/1999/xhtml"><block type="setup" id="FZ;QNouPm+Ydel/bulm8" x="0" y="0"><statement name="DO"><block type="block_with_textarea" id="T)bTJA~]1fy{=v[*+7jO"><field name="input">//需要操作系统启动前初始化的内容</field><next><block type="variables_declare" id="F^5FaEPc[Y]vHib?t(X*"><field name="VAR">Rec</field><field name="ioinput">String</field><next><block type="asr_speak" id="MaT`9+Oikgn}zKtgg?A["><field name="VOICE_SET">小蝶-清新女声</field><field name="vol">10</field><field name="speed">10</field><next><block type="asr_welcom" id=")3`e*f)~4i4wI?[QymJY"><field name="NAME">欢迎使用语音助手，用天问五幺唤醒我。</field><next><block type="asr_sleep" id="T/2u}Q$vc/$/dkOG~rov"><field name="NAME">我退下了，用天问五幺唤醒我</field><next><block type="asr_id" id="z;IHE4P.32Y=Pe:PfICo"><field name="ASR">天问五幺</field><field name="leibie">唤醒词</field><field name="huifu">我在</field><field name="id">0</field><next><block type="asr_id" id="WGh,bSr^sIm$aEQgotZ^"><field name="ASR">打开灯光</field><field name="leibie">命令词</field><field name="huifu">好的，马上打开灯光</field><field name="id">1</field><next><block type="asr_id" id=".Xid,q-ElB,i-!WiaE6G"><field name="ASR">关闭灯光</field><field name="leibie">命令词</field><field name="huifu">好的，马上关闭灯光</field><field name="id">2</field><next><block type="gpio_funmode_setup" id="9{|nm51^Q@[HuG?Rq]HB"><field name="PIN">4</field><field name="fun">FIRST_FUNCTION/output</field></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="hardware_init" id="5(xjiHKGxzSO7.q~)ub2" x="0" y="310"><statement name="DO"><block type="block_with_textarea" id="(m#5B3FjQ;Kt^ML6{|?#"><field name="input">//需要操作系统启动后初始化的内容</field><next><block type="vol_set" id=";csD-y/DjSh2)K3~Q]=+"><value name="num"><shadow type="asr_vol" id="Jy`r4|#nG2L=lP-zn0S]"><field name="PIN">7</field></shadow></value><next><block type="serial_begin" id="j(|0dv.a}`O].Vjhb+Ph"><field name="serial_select">Serial</field><field name="TX">PB_5</field><field name="RX">PB_6</field><value name="CONTENT"><shadow type="baud" id="|oA|D1[XfGH(Av!6yR,K"><field name="baud">9600</field></shadow></value><next><block type="serial_begin" id="jUO,-m|M}!ULYof(O|R."><field name="serial_select">Serial1</field><field name="TX">PB_7</field><field name="RX">PC_0</field><value name="CONTENT"><shadow type="baud" id="evkWOeVO5{pGlyJ:6Ld9"><field name="baud">9600</field></shadow></value><next><block type="variables_set" id="x`G:x}nTqEFW-:7Ry;$x"><field name="VAR">Rec</field><value name="VALUE"><block type="text" id="pxM3q=}qRUF)9ovj=duB"><field name="TEXT"></field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type="thread_app" id="`lf@;=/7NM4~Nvy=FXa6" x="0" y="550"><field name="app_name">UART_RX</field><field name="uxPriority">4</field><field name="mem">128</field><statement name="DO"><block type="block_with_textarea" id="d`OXDVv`um1Ced4-/XwZ"><field name="input">//串口0接下载口，接收到字符串判断，接收到hello,播报“大家好，我是好搭”</field><next><block type="controls_repeat_forever" id="T+84ZzfY5d$3*KT_ys7L"><statement name="DO"><block type="controls_if" id="GUAJQhrc6^Kqv64w/agZ"><value name="IF0"><block type="serial_available" id="KJE,7=s*OhN~GHonjHq~"><field name="serial_select">Serial</field></block></value><statement name="DO0"><block type="variables_set" id="=mojptm-@!7rY~^N~$kT"><field name="VAR">Rec</field><value name="VALUE"><block type="serial_readstr" id="1cSCk7}dmS,8ca{lRUoN"><field name="serial_select">Serial</field></block></value><next><block type="controls_if" id="]y##zfP~PNsCWIdm4,un"><value name="IF0"><block type="logic_compare" id="oD-0o?F3k@jq*u2LYn#W"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="O-lx8h*}0=IafUg+wmNB"><field name="VAR">Rec</field></block></value><value name="B"><block type="text" id="Q-xl}N?YGu%%6pojdNA9"><field name="TEXT">hello</field></block></value></block></value><statement name="DO0"><block type="enter_wakeup" id="aM?eMu,GbHLVfU8%[tkz"><value name="num"><shadow type="math_number" id="FTqhmOIP:FePGZ*g1Oxr"><field name="NUM">5</field></shadow></value><next><block type="asr_event_play_audio" id="j]2xHhR]QLAk8(AA`(v^"><field name="audio">大家好，我是好搭</field></block></next></block></statement></block></next></block></statement><next><block type="haodabit_DELAY1" id="L/,-BlJ~U:RX.Q)Q=BlC"><value name="ioinput"><shadow type="math_number" id="[a)$4;4GU!QG:f(v780D"><field name="NUM">2</field></shadow></value></block></next></block></statement></block></next></block></statement></block><block type="thread_app" id="8mg}:,BF8mK/32r;gb.m" x="0" y="907"><field name="app_name">UART1_RX</field><field name="uxPriority">4</field><field name="mem">256</field><statement name="DO"><block type="controls_repeat_forever" id="[kZ+hj|%iOy(-9X%tq3T"><statement name="DO"><block type="block_with_textarea" id="4BCF+}*$!9ay/r+E%Y?3"><field name="input">//串口1根据引脚连接设备，接收到十六进制数“ff 01 02"就会播报
//ff 01 就是帧头，02就是数据。十六进制数中间不能有00，00会作为字符串结束处理，收不到00 后面的数据</field><next><block type="controls_if" id=")3gD(9#ceU~Y(b/u!ErM"><value name="IF0"><block type="serial_available" id="cew7!nbctvWM}LXiDaoU"><field name="serial_select">Serial1</field></block></value><statement name="DO0"><block type="variables_set" id="#5aHV;-B/i$-s8HcP%.]"><field name="VAR">Rec</field><value name="VALUE"><block type="serial_readstr" id="4dX/zc1Zb0M*{J6,6rt("><field name="serial_select">Serial1</field></block></value><next><block type="serial_println" id="tq}G794izuUh5;xpanu~"><field name="serial_select">Serial1</field><value name="CONTENT"><block type="variables_get" id="*`xd^A(Av]g{bELIpCm;"><field name="VAR">Rec</field></block></value><next><block type="controls_if" id="EVqG?QdHqhlYpOMqCO(b"><value name="IF0"><block type="logic_operation" id="9|~n?=j1tRmqEteyeWix"><field name="OP">AND</field><value name="A"><block type="logic_compare" id="pqs?8urS_AuTCh68y%d7"><field name="OP">EQ</field><value name="A"><block type="c51_get_any" id="M(X{m?H01V|T?ghu+76_"><field name="NAME">(uint8_t)Rec[0]</field></block></value><value name="B"><block type="math_number" id="O{PzXi_?@}gD1P1?ApNZ"><field name="NUM">0xff</field></block></value></block></value><value name="B"><block type="logic_compare" id="b`0g?x=y:!khh/%k3Mv["><field name="OP">EQ</field><value name="A"><block type="c51_get_any" id="H*=ez37mnz{/5`Pc);Fr"><field name="NAME">(uint8_t)Rec[1]</field></block></value><value name="B"><block type="math_number" id="Wmct8+sXG,]*Gga~Q+EN"><field name="NUM">0x01</field></block></value></block></value></block></value><statement name="DO0"><block type="serial_println" id="}7L/7b%K.|Uob3^DJPLV"><field name="serial_select">Serial1</field><value name="CONTENT"><block type="variables_get" id="m_us+t5d{YGQpTt_Cjp?"><field name="VAR">Rec</field></block></value><next><block type="enter_wakeup" id=":0N`XL%F98~U{YGvn|q`"><value name="num"><shadow type="math_number" id="`s~]#1sB/fatF_Ki:V$Z"><field name="NUM">5</field></shadow></value><next><block type="asr_event_play_audio" id="w`,N_7opzo;iOoDlUZ`u"><field name="audio">串口一收到了十六进制数</field><next><block type="asr_event_play_num" id="x53pAFQl/0FHwa]qGU@E"><field name="mode">1</field><value name="num"><shadow type="math_number" id="x0i,,vXR%cC4Gj|G~H2t"><field name="NUM">123</field></shadow><block type="c51_get_any" id="iOVPHFMfp#g^:):/_sM2"><field name="NAME">(uint8_t)Rec[2]</field></block></value><next><block type="variables_set" id="hL=dzT@5KT=GE%6lMg;X"><field name="VAR">Rec</field><value name="VALUE"><block type="text" id="~8)O@X}i8.]KJ~*Y-B?a"><field name="TEXT"></field></block></value></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></statement><next><block type="haodabit_DELAY1" id="B}pU6uC_eq`3:=6]hKn="><value name="ioinput"><shadow type="math_number" id="9:=1@3-02{Sm@)#oklbv"><field name="NUM">2</field></shadow></value></block></next></block></next></block></statement></block></statement></block><block type="procedures_defnoreturn" id="_,CA|X7pZb*u76:(u~i6" x="0" y="1410"><field name="NAME">ASR_CODE</field><comment pinned="false" h="80" w="160">描述该功能...</comment><statement name="STACK"><block type="controls_switch_case" id="SVt|/cc$9%|LP[Py(W#N"><mutation elseif="2"></mutation><value name="IF0"><block type="asr_snid" id="uUo}{mhgYzJUrlbl9PBq"></block></value><value name="IF1"><block type="math_number" id="AD#em#X}}iY!T_eyn[Xh"><field name="NUM">1</field></block></value><statement name="DO1"><block type="gpio_digitalw" id="OxKfJYdk^ye281c$Lb%9"><value name="PIN"><shadow type="pins_digital" id="._9^s#dVB.yg0V0^KQ[L"><field name="PIN">4</field></shadow></value><value name="hg"><shadow type="pins_value" id="47Ro%tHZ64nA8/qHmexw"><field name="PIN">0</field></shadow></value></block></statement><value name="IF2"><block type="math_number" id="Ip{@!@y]xJj6Sh[J#dnv"><field name="NUM">2</field></block></value><statement name="DO2"><block type="gpio_digitalw" id="O:RfDN%Q0HQ+;)lQvY8d"><value name="PIN"><shadow type="pins_digital" id="v)yWAw7fUP,xTtu}))`Y"><field name="PIN">4</field></shadow></value><value name="hg"><shadow type="pins_value" id=":X*6Fwv0.xRM[1%y0c5G"><field name="PIN">1</field></shadow></value></block></statement></block></statement></block></xml>
<!-- edittype="asr_pro" -->
<!-- officialLib="[{"id":433,"version":"0.0.1"}]" -->
<!-- personalLib="[]" -->