<xml xmlns="http://www.w3.org/1999/xhtml"><block type="setup" id="s@J#?u~mwj=c4dQ!^1I1" x="0" y="0"><statement name="DO"><block type="block_with_textarea" id="T)bTJA~]1fy{=v[*+7jO"><field name="input">//需要操作系统启动前初始化的内容</field><next><block type="asr_speak" id="2?X[bc_OT^P:IGwvQP_D"><field name="VOICE_SET">小蝶-清新女声</field><field name="vol">10</field><field name="speed">10</field><next><block type="asr_welcom" id="dIXPj.wN1xFd#Kx[j#9."><field name="NAME">欢迎使用语音助手，用天问五幺唤醒我。</field><next><block type="asr_sleep" id="lW(yb~q%^5[Mi=*yx$6R"><field name="NAME">我退下了，用天问五幺唤醒我</field><next><block type="asr_id" id=";EpnS[gem,RLGE5_,.:+"><field name="ASR">天问五幺</field><field name="leibie">唤醒词</field><field name="huifu">我在</field><field name="id">2</field><next><block type="asr_id" id="bJlXayJ051OScjvb3D)`"><field name="ASR">打开灯光</field><field name="leibie">命令词</field><field name="huifu">好的，马上打开灯光</field><field name="id">4</field><next><block type="asr_id" id="4$jtFPH{(*Olv7gBT*s0"><field name="ASR">关闭灯光</field><field name="leibie">命令词</field><field name="huifu">好的，马上关闭灯光</field><field name="id">6</field><next><block type="create_queue" id="o6u)JUbk,skk*(HL,U){"><field name="name">message1</field><field name="len">4</field><field name="num">5</field><next><block type="create_queue" id="0k.Fh8tOJ?+~+4*A[Rb?"><field name="name">message2</field><field name="len">4</field><field name="num">5</field><next><block type="variables_declare" id="8G^x;H_OY8#Xt6FJ*a-^"><field name="VAR">rec_1</field><field name="ioinput">uint32_t</field><value name="VALUE"><block type="math_number" id="WM,YD+Mh#1V@LK4XvHLV"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="S$-YA3=M6CO/.gcCbk=R"><field name="VAR">rec_2</field><field name="ioinput">uint32_t</field><value name="VALUE"><block type="math_number" id="/*5l{]*C#;(c+o$Lcb|("><field name="NUM">0</field></block></value><next><block type="variables_declare" id="rXOU1q@m-p_nPqK9kO(~"><field name="VAR">var</field><field name="ioinput">uint32_t</field><value name="VALUE"><block type="math_number" id="(HYU`^dNu*Zt]~#YZ@A$"><field name="NUM">0</field></block></value><next><block type="gpio_funmode_setup" id="o.U:a[SkV3d#K)X6ko@h"><field name="PIN">4</field><field name="fun">FIRST_FUNCTION/output</field></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="hardware_init" id="59./JDJFsb$#AbT*,Y#i" x="0" y="414"><statement name="DO"><block type="block_with_textarea" id="(m#5B3FjQ;Kt^ML6{|?#"><field name="input">//需要操作系统启动后初始化的内容</field><next><block type="vol_set" id="{N2=SmJbcNeCr2v8nPp*"><value name="num"><shadow type="asr_vol" id="wmM[wZ+`D^b?GxCW]NH*"><field name="PIN">7</field></shadow></value><next><block type="block_with_textarea" id="C9]b`GHUh)Yx}@^D;KKW"><field name="input">//串口0打印app1 app2表示没有接收到消息
//唤醒后，说”打开灯光“、”关闭灯光“就会发送消息
//由不同的线程接收并播报相应的消息，同时串口0打印收到消息</field><next><block type="serial_begin" id="0Y^0c1td_MrL%SiUi1BO"><field name="serial_select">Serial</field><field name="TX">PB_5</field><field name="RX">PB_6</field><value name="CONTENT"><shadow type="baud" id="~eLUhXcpCVn6psT.2vA/"><field name="baud">9600</field></shadow></value></block></next></block></next></block></next></block></statement></block><block type="thread_app" id="MjDMsndC=f|h+fJ_piIA" x="0" y="667"><field name="app_name">rec_1_app</field><field name="uxPriority">4</field><field name="mem">128</field><statement name="DO"><block type="controls_repeat_forever" id="?^HW@If^v:4TJo?YmwhS"><statement name="DO"><block type="controls_if" id="88jZW/Du79(tdP`aW/Xk"><mutation else="1"></mutation><value name="IF0"><block type="rec_messga" id="=7_L*JcYRJ(MD3{GS$nY"><field name="NAME">message1</field><field name="ticks">0</field><value name="var"><block type="variables_get" id="976!E|e9x$G6BmO{:?7z"><field name="VAR">rec_1</field></block></value></block></value><statement name="DO0"><block type="serial_println" id="vjSe=zFVq}3qAr,e4O_p"><field name="serial_select">Serial</field><value name="CONTENT"><block type="variables_get" id="W,o%[)if7P=tq}t`}QM/"><field name="VAR">rec_1</field></block></value><next><block type="enter_wakeup" id="K.e!75Y[D|!.+)y5s0hf"><value name="num"><shadow type="math_number" id="Tp8J1~i))QSEiY)G?ztf"><field name="NUM">5</field></shadow></value><next><block type="asr_event_play_audio" id="O/LzG!ocvoWt:zJhFGU$"><field name="audio">接收到打开灯光的消息</field></block></next></block></next></block></statement><statement name="ELSE"><block type="serial_println" id="LsG6NI2~Z2U]k:}habg@"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="T8%y9?%~wynmETYRn:4Q"><field name="TEXT">app1</field></block></value><next><block type="haodabit_DELAY1" id="C{9};+|H~NZ3A7VW$YfQ"><value name="ioinput"><shadow type="math_number" id="ALzT!(Ma]7gl#A55FShi"><field name="NUM">800</field></shadow></value></block></next></block></statement><next><block type="haodabit_DELAY1" id="ne^3~[(~wkq2Cix+NsN-"><value name="ioinput"><shadow type="math_number" id="SVgoMb/1z:q*q3[9#^`4"><field name="NUM">1</field></shadow></value></block></next></block></statement></block></statement></block><block type="thread_app" id="(Dh[=vGFG+tnx=v!gaA7" x="0" y="1026"><field name="app_name">rec_2_app</field><field name="uxPriority">4</field><field name="mem">128</field><statement name="DO"><block type="controls_repeat_forever" id=":Z27TkoQ/Yw$)Wi3={Bx"><statement name="DO"><block type="controls_if" id="Ylh%WU_en!XN[}N+RN9z"><mutation else="1"></mutation><value name="IF0"><block type="rec_messga" id="Dz|4wcn9bLf#5dhj*s.7"><field name="NAME">message2</field><field name="ticks">0</field><value name="var"><block type="variables_get" id="@ZQoxFLlU@e/*CRv(Wva"><field name="VAR">rec_2</field></block></value></block></value><statement name="DO0"><block type="serial_println" id="tFOV#~|nYACC4m.BGbJr"><field name="serial_select">Serial</field><value name="CONTENT"><block type="variables_get" id="/2jjmG.geIu=A/C_n*0!"><field name="VAR">rec_2</field></block></value><next><block type="enter_wakeup" id="Xxe)|h?#CE`]z{*!/O#*"><value name="num"><shadow type="math_number" id="*y%-%q)dxXP`}a/y_owm"><field name="NUM">5</field></shadow></value><next><block type="asr_event_play_audio" id="$9*KZDuCx1fw%.nZ1~R_"><field name="audio">接收到关闭灯光的消息</field></block></next></block></next></block></statement><statement name="ELSE"><block type="serial_println" id="if|o#@}P)EAJmcO0LJ9b"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="UYL_jO|nDw#!;K.1yJ%q"><field name="TEXT">app2</field></block></value><next><block type="haodabit_DELAY1" id="Ddtf}sypi.:~Gxw6^Ov`"><value name="ioinput"><shadow type="math_number" id=",nVi{lK]qw|JYgGiI`m`"><field name="NUM">1500</field></shadow></value></block></next></block></statement><next><block type="haodabit_DELAY1" id="pdf3`.D)%f+2:9VfH%x@"><value name="ioinput"><shadow type="math_number" id="C,bhh77@)gCXslC,U(q0"><field name="NUM">1</field></shadow></value></block></next></block></statement></block></statement></block><block type="procedures_defnoreturn" id="+QGju9aKy^{KS50|8^ru" x="0" y="1385"><field name="NAME">ASR_CODE</field><comment pinned="false" h="80" w="160">描述该功能...</comment><statement name="STACK"><block type="controls_switch_case" id="SV9?yi#S2,(BN.^!Wd)b"><mutation elseif="2"></mutation><value name="IF0"><block type="asr_snid" id="+5?{E4uhL,O0Fs8n=m6f"></block></value><value name="IF1"><block type="math_number" id="=u)UMJEkGmtFey~tp~Ft"><field name="NUM">4</field></block></value><statement name="DO1"><block type="variables_set" id="6^Yb;TtsS?XkQOd?XP,F"><field name="VAR">var</field><value name="VALUE"><block type="send_messga" id="8p--)a[T1Y2gIiK?q{=="><field name="NAME">message1</field><field name="ticks">0</field><value name="var"><block type="asr_snid" id=")@=]NrMs#jPNMT2QQ4%I"></block></value></block></value><next><block type="gpio_digitalw" id="[C.6wYv5rlN43z4$M#k5"><value name="PIN"><shadow type="pins_digital" id=",RWw^yhh#de({}iuFH73"><field name="PIN">4</field></shadow></value><value name="hg"><shadow type="pins_value" id="Futljd:!8Frr(!=o=$PH"><field name="PIN">0</field></shadow></value></block></next></block></statement><value name="IF2"><block type="math_number" id="fkC)nE`i!ypW{@1q6FNY"><field name="NUM">6</field></block></value><statement name="DO2"><block type="variables_set" id="A81f@n?5R5m8`zk(%,p|"><field name="VAR">var</field><value name="VALUE"><block type="send_messga" id="M6FJWi~*myr;w5P-5_TY"><field name="NAME">message2</field><field name="ticks">0</field><value name="var"><block type="asr_snid" id=";T7+YL0Z+a5MDr;Ptn$p"></block></value></block></value><next><block type="gpio_digitalw" id="KcR.Z|MZR`Z/LQjG4-~W"><value name="PIN"><shadow type="pins_digital" id="@V:{n1yLWW%G9Be,hT@i"><field name="PIN">4</field></shadow></value><value name="hg"><shadow type="pins_value" id="Z~gbRoU5_ox{6hj1Qu[d"><field name="PIN">1</field></shadow></value></block></next></block></statement></block></statement></block></xml>
<!-- edittype="asr_pro" -->
<!-- officialLib="[{"id":433,"version":"0.0.1"}]" -->
<!-- personalLib="[]" -->