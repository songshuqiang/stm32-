<xml xmlns="http://www.w3.org/1999/xhtml"><block type="setup" id="FZ;QNouPm+Ydel/bulm8" x="0" y="0"><statement name="DO"><block type="variables_declare" id=";(-,dev:n)=Y;gjVd+:Q"><field name="VAR">weather</field><field name="ioinput">String</field><value name="VALUE"><block type="text" id="$n4[F4oULJrWpF;`A0?J"><field name="TEXT"></field></block></value><next><block type="variables_declare" id="ZDIuY8Q-2:3CN]Hh[);."><field name="VAR">day_code</field><field name="ioinput">uint8_t</field><value name="VALUE"><block type="math_number" id="s#)j|Nb0x3*MY:q?n}m_"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="];=AEWHLdueHXh{@)MDb"><field name="VAR">temp_h</field><field name="ioinput">int8_t</field><value name="VALUE"><block type="math_number" id="KQI]$v6Pr$3ll+)m{@_N"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="6$e~fD%$zzgRN.J0NK7V"><field name="VAR">temp_l</field><field name="ioinput">int8_t</field><value name="VALUE"><block type="math_number" id=";iFZ]vYP|XHq/i6H4l8:"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="Vujh[dhAR`Ba=c#l-kB3"><field name="VAR">net_miao</field><field name="ioinput">uint8_t</field><value name="VALUE"><block type="math_number" id="JKUz_+OqE?7)3aoKC0+b"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="F`kl?7D3(1A:t.=Po]_d"><field name="VAR">net_fen</field><field name="ioinput">uint8_t</field><value name="VALUE"><block type="math_number" id="2li4}bJ$dU1w{S3l*,+}"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="4p6W(13c;_Y5AqFet$eZ"><field name="VAR">net_shi</field><field name="ioinput">uint8_t</field><value name="VALUE"><block type="math_number" id="eY[k8DMH[qtEI:)xq52v"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="8COLSqq[DjttqgsdjL)#"><field name="VAR">net_nian</field><field name="ioinput">uint16_t</field><value name="VALUE"><block type="math_number" id="}HDj.7lF.yoaf^oj_hvv"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="ivc@`}i~)-E~dF*@p)Le"><field name="VAR">net_yue</field><field name="ioinput">uint8_t</field><value name="VALUE"><block type="math_number" id="Ai[8`O@j@xGgy)}3o||I"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="tb8gzjj|?~#AXC-zD)78"><field name="VAR">net_ri</field><field name="ioinput">uint8_t</field><value name="VALUE"><block type="math_number" id="^{!k)j_E|$bw9%=Fb}hv"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="XCUTR_JfK|iBQ6Fq9Xmm"><field name="VAR">net_time</field><field name="ioinput">String</field><value name="VALUE"><block type="text" id="%WcG[NKNt6PARO=Ywzu1"><field name="TEXT"></field></block></value><next><block type="asr_cjson_init" id="vP`yl+vQIO@z)Rbi_,WW"></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="hardware_init" id="a#vP1hg9+LDePKcD!,pJ" x="0" y="378"><statement name="DO"><block type="haodabit_DELAY1" id="}d+/[-*c:R06qVWG3]r9"><value name="ioinput"><shadow type="math_number" id="KGr6V9Vi:QRN[zg6AQ1t"><field name="NUM">5000</field></shadow></value><next><block type="serial_begin" id="o%2!$I[12|nUZ.Q[;~_["><field name="serial_select">Serial</field><field name="TX">PB_5</field><field name="RX">PB_6</field><value name="CONTENT"><shadow type="baud" id="$E#51LbBfyDav,TDxl/X"><field name="baud">9600</field></shadow></value><next><block type="gpio_funmode" id="ENC/C3P0P4H4/KoMyBXq"><field name="fun">FORTH_FUNCTION</field><value name="PIN"><shadow type="pins_all" id="eU2MF(hJw7)Ff;`H1v$1"><field name="PIN">5</field></shadow></value><next><block type="gpio_funmode" id="A+n2k!f]XZ0(i:h9goj2"><field name="fun">FORTH_FUNCTION</field><value name="PIN"><shadow type="pins_all" id="px~bc4-uR!Qen5i`qC^u"><field name="PIN">6</field></shadow></value><next><block type="espwifi_begin" id="-#bP^RMJSF.w%YBB#NK8"><field name="port">Serial2</field><next><block type="controls_if" id="L!~3@eQBU.jaz.r?xtl%"><mutation else="1"></mutation><value name="IF0"><block type="espwifi_check" id="/QLbvfFnakfk%ka~xV:;"><field name="port">Serial2</field></block></value><statement name="DO0"><block type="serial_println" id=",.FR~r[EB3+%S#nRhR?."><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="xj=m/D+(n(RgKmt+tkD-"><field name="TEXT">check ok</field></block></value></block></statement><statement name="ELSE"><block type="serial_println" id="`+3|Y?[@M=6Nic6YW9RP"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="k=?:Mr9=4^+jAILpB6S`"><field name="TEXT">check err</field></block></value></block></statement><next><block type="controls_if" id="2mmvXHHdh7A_{xIl832B"><mutation else="1"></mutation><value name="IF0"><block type="espwifi_setmode" id="2xQ*Vk{Co}L65tV^of*I"><field name="port">Serial2</field><field name="mode">WIFI_MODE_STATION</field></block></value><statement name="DO0"><block type="serial_println" id="0s?[9-;3yuSkKrvLsWCU"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="AS==3Jde@ZT{n{[V1OG)"><field name="TEXT">setMode ok</field></block></value></block></statement><statement name="ELSE"><block type="serial_println" id="KU+3Z!f*g-ePJM+OfX^C"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id=".[#`G1Shb^9r~|!qRGu("><field name="TEXT">setMode err</field></block></value></block></statement><next><block type="controls_if" id="LL?m`r+Ry=K{HKQ:|$%e"><mutation else="1"></mutation><value name="IF0"><block type="espwifi_connectap" id="^HU74W_(2K$Z]OU7F]mA"><field name="port">Serial2</field><value name="ssid"><shadow type="text" id="X9k49.6skyp/31HoFShl"><field name="TEXT">haoda7</field></shadow></value><value name="passwd"><shadow type="text" id="l0;lQDYM/ddqEmnZZ%xU"><field name="TEXT">0123456789</field></shadow></value></block></value><statement name="DO0"><block type="serial_println" id="B,NEn+V`7sqtW+*^Q;,t"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="Un4wuf^J+~H)B)iq@uN0"><field name="TEXT">connectAP ok</field></block></value></block></statement><statement name="ELSE"><block type="serial_println" id="H.XJyB{fS/8RIcf^xjqr"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="tmPTa+WuyAuhghOE0`9t"><field name="TEXT">connectAP err</field></block></value></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="thread_app" id="T9BOquo:~VGl|Ktk45u+" x="0" y="945"><field name="app_name">wifi</field><field name="uxPriority">4</field><field name="mem">512</field><statement name="DO"><block type="block_with_textarea" id="p:F2y+nmK!ZhR6T`nn:O"><field name="input">//GET http://www.haohaodada.com/project/weather/ 请求返回的JSON数据格式
// {
//     "results": [
//         {
//             "location": {
//                 "id": "WTMKQ069CCJ7",
//                 "name": "\u676d\u5dde",
//                 "country": "CN",
//                 "nowtime": "2022-12-30 14:04:22"
//             },
//             "daily": [
//                 {
//                     "date": "2022-12-30",
//                     "text_day": "\u591a\u4e91",
//                     "code_day": "4",
//                     "text_night": "\u6674",
//                     "code_night": "1",
//                     "high": "8",
//                     "low": "1",
//                     "rainfall": "0.00",
//                     "precip": "0.00",
//                     "wind_direction": "\u65e0\u6301\u7eed\u98ce\u5411",
//                     "wind_direction_degree": "",
//                     "wind_speed": "8.4",
//                     "wind_scale": "2",
//                     "humidity": "86"
//                 }
//             ],
//             "last_update": "2022-12-30T08:00:00+08:00"
//         }
//     ]
// }
</field><next><block type="controls_repeat_forever" id="@2sHhfL_+j/I/!D[0.8R"><statement name="DO"><block type="variables_set" id="kcVsjJKGlRJ[#+-b6)`R"><field name="VAR">weather</field><value name="VALUE"><block type="espwifi_http_get" id="F9*):cnS%o*[?l376L,8"><field name="port">Serial2</field><value name="url"><shadow type="text" id="7dvPunW~K/7ynwI7X:cM"><field name="TEXT">http://www.haohaodada.com/project/weather/</field></shadow></value></block></value><next><block type="asr_cjson_parse" id="a;qywV:R[slkO88KJ$n^"><field name="str">weather.c_str()</field><field name="obj">CJSON</field><next><block type="controls_if" id="F%{G2|dT02E++{c[SRf+"><mutation else="1"></mutation><value name="IF0"><block type="asr_cjson_parse_result" id="$-t4w9usZHj~]d3o/ex-"><field name="obj">CJSON</field></block></value><statement name="DO0"><block type="serial_println" id="HU#Q:EtHIukwJ2xsu(p5"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="Osz?9hZ,ay9!T.QA!W,/"><field name="TEXT">json parse OK...</field></block></value></block></statement><statement name="ELSE"><block type="serial_println" id="%?:=UL%TD)!2gTs(pP`H"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="6uTxxog-R=,@5Qba=!C`"><field name="TEXT">json parse err...</field></block></value></block></statement><next><block type="asr_cjson_getobjectitem_obj" id="UXg^uM}$dh.0%6Pddsdg"><field name="obj">CJSON</field><field name="new_obj">CJSON_RESULTS</field><value name="key"><shadow type="text" id="F#cyQ,l,@A)l3e!Xg2Uj"><field name="TEXT">results</field></shadow></value><next><block type="asr_cjson_get" id="0h1%VD$}z3;#*R2[Mriy"><field name="obj">CJSON_RESULTS</field><field name="behavior">child</field><field name="new_obj">RESULTS_ITEM</field><next><block type="asr_cjson_getobjectitem_obj" id="U:fX]tH,q#7D?DqV=!tC"><field name="obj">RESULTS_ITEM</field><field name="new_obj">CJSON_LOCATION</field><value name="key"><shadow type="text" id="(1suPSGZs{/|~GV2Q.3Y"><field name="TEXT">location</field></shadow></value><next><block type="variables_set" id="yn}:#q3403#qbCL,B8DM"><field name="VAR">net_time</field><value name="VALUE"><block type="asr_cjson_getobjectitem_data" id="2+e{RwS%NUv5bm|uePtJ"><field name="obj">CJSON_LOCATION</field><field name="behavior">valuestring</field><value name="key"><shadow type="text" id="m106!c+,zn#Z#GA4647C"><field name="TEXT">nowtime</field></shadow></value></block></value><next><block type="serial_println" id="*Q`1K]p_TEF,^d5xV!oU"><field name="serial_select">Serial</field><value name="CONTENT"><block type="variables_get" id="|e=.`q]Sn6y{^.(*NGNL"><field name="VAR">net_time</field></block></value><next><block type="variables_set" id="Uk^F0@QCcdj:KuGTF8cV"><field name="VAR">net_nian</field><value name="VALUE"><block type="text_toint" id="m?x+uLK~}IRhzSP!m-fp"><value name="VALUE"><block type="text_substring" id="o-l^(~Z{_T9)JoVfDYll"><value name="VALUE"><block type="variables_get" id="-HmeNrFaL4z}G7mf)BL;"><field name="VAR">net_time</field></block></value><value name="NUM"><block type="math_number" id=";M-D4f/~~Q@(vMt#c[/:"><field name="NUM">0</field></block></value><value name="FIND"><block type="math_number" id="PJ)#T,s-MRa~bmQZ7[]#"><field name="NUM">4</field></block></value></block></value></block></value><next><block type="variables_set" id="2xN9(@thfR^On;0d;l8W"><field name="VAR">net_yue</field><value name="VALUE"><block type="text_toint" id="p;(n-a6%7ac$1`{B8}g*"><value name="VALUE"><block type="text_substring" id="imE-ri,hUn$|1K=m[633"><value name="VALUE"><block type="variables_get" id="I3G3$%UWZdNwS]?u+U/G"><field name="VAR">net_time</field></block></value><value name="NUM"><block type="math_number" id="Nn5u}a3gG5(c/^}hRnf2"><field name="NUM">5</field></block></value><value name="FIND"><block type="math_number" id="9HCgnVye6i.=NA|fZTQT"><field name="NUM">7</field></block></value></block></value></block></value><next><block type="variables_set" id="G9mm;pTPXA)hF^Q5)c|+"><field name="VAR">net_ri</field><value name="VALUE"><block type="text_toint" id="8;A;P?ye|b$hR8#6w`c~"><value name="VALUE"><block type="text_substring" id="*ElZ3s?l^mbi#Ysivu:$"><value name="VALUE"><block type="variables_get" id="1UQ(}}*;osjtb]?(43_S"><field name="VAR">net_time</field></block></value><value name="NUM"><block type="math_number" id="q4|B#b2=;A}].+Q`1aG`"><field name="NUM">8</field></block></value><value name="FIND"><block type="math_number" id="]F[y?+vXp+x2}i%CbL?L"><field name="NUM">10</field></block></value></block></value></block></value><next><block type="variables_set" id="SX70{/DcF=G`R(R[W6pZ"><field name="VAR">net_shi</field><value name="VALUE"><block type="text_toint" id="i1vT(e97T}#0:zx9#R,T"><value name="VALUE"><block type="text_substring" id=":3`h}_|!!yv`uUQ+.4!i"><value name="VALUE"><block type="variables_get" id="I8e$,d``6_fF]ELzA/1R"><field name="VAR">net_time</field></block></value><value name="NUM"><block type="math_number" id="4BRKec%?fr][f^stXZEc"><field name="NUM">11</field></block></value><value name="FIND"><block type="math_number" id="/4E{5v2|oE,Jq4?KRN@$"><field name="NUM">13</field></block></value></block></value></block></value><next><block type="variables_set" id="d,~)%d(;tUE=}{V2J%l+"><field name="VAR">net_fen</field><value name="VALUE"><block type="text_toint" id="15E#tV`metcaRzSW^nmY"><value name="VALUE"><block type="text_substring" id="n}uo8wD?Kz?*5J:X^k7l"><value name="VALUE"><block type="variables_get" id="wy@w+Bug`)88}|kfH2`c"><field name="VAR">net_time</field></block></value><value name="NUM"><block type="math_number" id="!4R%Hrs2.IuJ?U0sO@5w"><field name="NUM">14</field></block></value><value name="FIND"><block type="math_number" id="ZE9IKPR8GQ7j*6w7r[k+"><field name="NUM">16</field></block></value></block></value></block></value><next><block type="variables_set" id="7U63U~JlJqdXU.Fy|i4C"><field name="VAR">net_miao</field><value name="VALUE"><block type="text_toint" id="p,PJoxxE++jbG$XdUA~6"><value name="VALUE"><block type="text_substring" id="5o6pg;fQ!0K(8WKZBULI"><value name="VALUE"><block type="variables_get" id="cthvup(80N@VeMSYkz[Z"><field name="VAR">net_time</field></block></value><value name="NUM"><block type="math_number" id="Q.X@o{T]O^}{rC6Ul$lN"><field name="NUM">17</field></block></value><value name="FIND"><block type="math_number" id="W0Kq{iUvyEUvS+Q[Jt:D"><field name="NUM">19</field></block></value></block></value></block></value><next><block type="serial_println" id="Lljdl.TmrV~W4T(xROom"><field name="serial_select">Serial</field><value name="CONTENT"><block type="variables_get" id="8|9~izt3.EapZ/ncuuuI"><field name="VAR">net_nian</field></block></value><next><block type="serial_println" id="zLS{yh40FE2M=$-RhAzm"><field name="serial_select">Serial</field><value name="CONTENT"><block type="variables_get" id="DBxuQ-d3`WaDgo3vTBmN"><field name="VAR">net_yue</field></block></value><next><block type="serial_println" id="w1aK0CG$w$m||YSH83yz"><field name="serial_select">Serial</field><value name="CONTENT"><block type="variables_get" id="ox(;S/{cwB@_ek.)@%P8"><field name="VAR">net_ri</field></block></value><next><block type="serial_println" id="$xPOZHhO;uWHRVe?R8O?"><field name="serial_select">Serial</field><value name="CONTENT"><block type="variables_get" id="O5x6w:$7v2zlJ]c8FQZ}"><field name="VAR">net_shi</field></block></value><next><block type="serial_println" id="+Pbo{j-*Twg]eB#Ub((v"><field name="serial_select">Serial</field><value name="CONTENT"><block type="variables_get" id="reDxDS?!nP}lC3(Yf:/~"><field name="VAR">net_fen</field></block></value><next><block type="serial_println" id="SruJo`v;Dcl,vyy:KB?["><field name="serial_select">Serial</field><value name="CONTENT"><block type="variables_get" id="?-zr7Gtn0SB^JUzcp)zj"><field name="VAR">net_miao</field></block></value><next><block type="asr_cjson_getobjectitem_obj" id="+38H5+?k8/.mal/J$xt("><field name="obj">RESULTS_ITEM</field><field name="new_obj">CJSON_DAILY</field><value name="key"><shadow type="text" id=",7VC}d,|53n%[y/(-Dy."><field name="TEXT">daily</field></shadow></value><next><block type="asr_cjson_get" id="lN[1S_eY_g=+t#:I!vdd"><field name="obj">CJSON_DAILY</field><field name="behavior">child</field><field name="new_obj">DAILY_ITEM</field><next><block type="variables_set" id="uOI73F$JvAM^L;f~DEhL"><field name="VAR">day_code</field><value name="VALUE"><block type="text_toint" id="/T@ni[yRI)2crT.x`sJ5"><value name="VALUE"><block type="text_join" id="^#!Am3zc-0PMMve`tgv="><mutation items="1"></mutation><value name="ADD0"><block type="asr_cjson_getobjectitem_data" id="Z)wEAax|[_/quGomuVZ{"><field name="obj">DAILY_ITEM</field><field name="behavior">valuestring</field><value name="key"><shadow type="text" id="V@LDBlM$`0}clV@zRzC0"><field name="TEXT">code_day</field></shadow></value></block></value></block></value></block></value><next><block type="variables_set" id="7~?Y?0tx1AleNsM,S{FP"><field name="VAR">temp_h</field><value name="VALUE"><block type="text_toint" id="8f{4e(UqmjzpsgY~S21T"><value name="VALUE"><block type="text_join" id="#t`BUiVCP@!#hWUd;RKx"><mutation items="1"></mutation><value name="ADD0"><block type="asr_cjson_getobjectitem_data" id="v2#v`l15;]ZOO_Fc~Vaz"><field name="obj">DAILY_ITEM</field><field name="behavior">valuestring</field><value name="key"><shadow type="text" id="jM?$B_64d~;_)h;Fuie("><field name="TEXT">high</field></shadow></value></block></value></block></value></block></value><next><block type="variables_set" id="i-#8qx=})|}aJx!22q#7"><field name="VAR">temp_l</field><value name="VALUE"><block type="text_toint" id="DAE+eIQ?J8h5im+ncqhm"><value name="VALUE"><block type="text_join" id="1^Up@{6J7G.3aLnq|vWV"><mutation items="1"></mutation><value name="ADD0"><block type="asr_cjson_getobjectitem_data" id="pJ?U~a$gCFS,+B3cqtB]"><field name="obj">DAILY_ITEM</field><field name="behavior">valuestring</field><value name="key"><shadow type="text" id="dfQefqiXT%}#obcqNky?"><field name="TEXT">low</field></shadow></value></block></value></block></value></block></value><next><block type="serial_println" id="-KqyfWS$q?kV~y*2%d)J"><field name="serial_select">Serial</field><value name="CONTENT"><block type="variables_get" id="2U_um3s,h?:|-%K{z=E!"><field name="VAR">day_code</field></block></value><next><block type="serial_println" id="O.*-#XW!rm2Oiderw?5|"><field name="serial_select">Serial</field><value name="CONTENT"><block type="variables_get" id="/AKTbu0,sCv0I}B}9X#x"><field name="VAR">temp_h</field></block></value><next><block type="serial_println" id="}%z7vrXq5)*~!u?C$,Lv"><field name="serial_select">Serial</field><value name="CONTENT"><block type="variables_get" id="t6lMWUmP3=EJ[W*N0D5x"><field name="VAR">temp_l</field></block></value><next><block type="asr_cjson_delete" id="JkTstLLGHnW:wc(%U4fT"><field name="obj">CJSON</field><next><block type="haodabit_DELAY1" id="VN5u~gzAmB-M.b5bwJ13"><value name="ioinput"><shadow type="math_number" id="kZ~oW.!yQTurHeUb8/yX"><field name="NUM">5000</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></next></block></statement></block></xml>
<!-- edittype="asr_pro" -->
<!-- officialLib="[{"id":309,"version":"0.0.3"},{"id":409,"version":"0.0.1"},{"id":416,"version":"0.0.1"}]" -->
<!-- personalLib="[]" -->